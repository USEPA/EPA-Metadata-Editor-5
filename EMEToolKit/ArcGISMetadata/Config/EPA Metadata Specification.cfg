<metadataConfig ArcGISProfile="ISO19139" ValidatePages="True">
  <translator>Metadata\Translator\ArcGIS2ISO19139.xml</translator>
  <validationNamespaceURI>http://www.isotc211.org/2005/gmd</validationNamespaceURI>
  <validationSchemaURL>http://www.isotc211.org/schemas/2005/gmd/metadataEntity.xsd</validationSchemaURL>
  <viewerXslt>Metadata\Stylesheets\ArcGIS.xsl</viewerXslt>
  <editor>
    <forms>
      <section class="ESRI.ArcGIS.Metadata.Editor.Sections.Overview">		
        <page class="EPAMetadataEditor.Pages.ItemInfo,EPAMetadataEditor">
          <validation>
          
            <!-- title -->
            <exists xpath="/metadata/dataIdInfo/idCitation/resTitle[. != '']" ref="resTitle"/>
            
            <!-- abstract -->
            <for xpath="/metadata[not(tool)]">
              <exists xpath="dataIdInfo/idAbs[. != '']" ref="idAbs"/>   
            </for>

            <!-- tool summary -->
            <for xpath="/metadata[tool]">
              <exists xpath="tool/summary[. != '']" ref="toolSummary"/>   
            </for>
            
            <!-- tools -->
            <for xpath="//scriptExample">
              <exists xpath="title[. != '']" ref="scriptTitle"/>   
            </for>
            
            <!-- extent -->
            <for xpath="//dataExt//GeoBndBox[@esriExtentType = 'search' AND * != '']">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.Keywords,EPAMetadataEditor">
          <validation>
            
            <!-- topic categories -->
            <for xpath="/metadata[mdHrLv/ScopeCd/@value = '005' or mdHrLv/ScopeCd/@value = '006']">
              <exists xpath="//dataIdInfo/tpCatBag[*/@value='True']" ref="topics"/>
            </for>
            
            <!-- theme keywords -->
            <for xpath="/metadata/dataIdInfo/themeKeys">
              <exists xpath="bag[. != '']" ref="bag,.,themeKeywords"/>   
            </for>            
            <!-- place keywords -->
            <for xpath="/metadata/dataIdInfo/placeKeys">
              <exists xpath="bag[. != '']" ref="bag,.,placeKeywords"/>   
            </for>
            <!-- temporal keywords -->
            <for xpath="/metadata/dataIdInfo/tempKeys">
              <exists xpath="bag[. != '']" ref="bag,.,temporalKeywords"/>   
            </for>
            <!-- discipline keywords -->
            <for xpath="/metadata/dataIdInfo/discKeys">
              <exists xpath="bag[. != '']" ref="bag,.,disciplineKeywords"/>   
            </for>  
            <!-- stratum keywords -->
            <for xpath="/metadata/dataIdInfo/stratKeys">
              <exists xpath="bag[. != '']" ref="bag,.,stratumKeywords"/>   
            </for>              
            <!-- other keywords -->
            <for xpath="/metadata/dataIdInfo/otherKeys">
              <exists xpath="bag[. != '']" ref="bag,.,otherKeywords"/>   
            </for>
            <!-- product keywords -->
            <for xpath="/metadata/dataIdInfo/productKeys">
              <exists xpath="bag[. != '']" ref="bag,.,productKeywords"/>   
            </for>

            <!-- contact name, org or role -->
            <for xpath="//thesaName/citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//thesaName/citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- citation -->
            <for xpath="//thesaName//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//thesaName[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>             
            </for>
            <for xpath="//thesaName//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            <for xpath="//thesaName//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>              
            </for>
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.DatasetCitation,EPAMetadataEditor">
          <validation>
          
            <!-- citation -->
            <for xpath="//dataIdInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//dataIdInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>              
            </for>
            <for xpath="//dataIdInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.ResourceCitationContacts,EPAMetadataEditor">
          <validation>    
      
            <!-- contact name, org or role -->
            <for xpath="/metadata/dataIdInfo/idCitation/citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="/metadata/dataIdInfo/idCitation/citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.ContactManager,EPAMetadataEditor"></page>
        <page class="EPAMetadataEditor.Pages.Locales,EPAMetadataEditor">
          <validation>
            <!-- language is required for all locales -->
            <for xpath="/metadata/Esri/locales/locale">
              <exists xpath=".[@language != '']" ref="language"/>
            </for>        
          </validation>
        </page>
      </section>
      <section class="ESRI.ArcGIS.Metadata.Editor.Sections.Metadata">
        <page class="EPAMetadataEditor.Pages.MetadataDetails,EPAMetadataEditor">
          <validation>
          
            <!-- language is required for all iso styles -->
            <exists xpath="/metadata/mdLang/languageCode[@value != '']" ref="languageCode"/>
            
            <!-- if the level code is not 'dataset', then level name is required -->
            <for xpath="/metadata[mdHrLv/ScopeCd/@value != '005' and mdHrLv/ScopeCd/@value != '']">
              <exists xpath="/metadata/mdHrLvName[. != '']" ref="mdHrLvName"/>
            </for>
            
            <!-- date stamp is required -->
            <exists xpath="/metadata/mdDateSt[. != '']" ref="mdDateSt"/>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.MetadataContacts,EPAMetadataEditor">
           <validation>
  
            <!-- one contact requried -->
            <exists xpath="/metadata[mdContact]" ref="mdContact"/>
            
            <!-- contact name, org or role -->
            <for xpath="//mdContact">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//mdContact/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
			
          </validation>
         </page>
        <page class="EPAMetadataEditor.Pages.MetadataMaintenance,EPAMetadataEditor">
          <validation>
          
            <for xpath="//mdMaint">
            
              <!-- maintentance frequency -->
              <for xpath="maintFreq">
                <exists xpath="MaintFreqCd[@value != '']" ref="maintFreq"/>  
              </for>            
              
              <!-- maintenance scope -->
              <for xpath="maintScp">
                <exists xpath="ScopeCd[@value != '']" ref="scopeCd"/>  
              </for>
            </for>      

            <!-- contact name, org or role -->
            <for xpath="//mdMaint/maintCont">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//mdMaint/maintCont/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
      
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.MetadataConstraints,EPAMetadataEditor">
          <validation>          
            <!-- classification code -->
            <for xpath="//mdConst/SecConsts">
              <exists xpath="class/ClasscationCd[@value != '']" ref="ClasscationCd"/>  
            </for> 
            <!-- if the 'other contraints' code is used, then the other contraints tag is required -->
            <for xpath="//mdConst/LegConsts[*/RestrictCd/@value = '008']">
              <exists xpath="othConsts[. != '']" ref="othConsts"/>  
            </for>
            <!-- use constraint is required in the general class -->
            <for xpath="//mdConst/Consts">
              <exists xpath="useLimit[. != '']" ref="useLimit"/>  
            </for>
          </validation>  
        </page>
      </section>
      <section class="ESRI.ArcGIS.Metadata.Editor.Sections.Resource">		
        <page class="EPAMetadataEditor.Pages.ResourceDetails,EPAMetadataEditor">
          <validation>
          
            <!-- language of the dataset is mandatory as long as the hierarchy level code != service -->
            <for xpath="/metadata[mdHrLv/ScopeCd/@value != '014']">
              <exists xpath="//dataIdInfo/dataLang/languageCode[@value != '']" ref="languageCode"/>
            </for>
            
            <!-- scale -->
            <for xpath="//dataIdInfo//scaleDist[value != '']">
              <exists xpath="value[@uom != '']" ref="uom,@uom"/>
            </for>
            
            <!-- format name and version -->       
            <for xpath="//dsFormat">
              <exists xpath="formatName[. != '']" ref="formatName"/>  
              <exists xpath="formatVer[. != '']" ref="formatVer"/>
            </for>  
          
            <!-- browse file name -->
            <for xpath="//graphOver">
              <exists xpath="bgFileName[. != '']" ref="bgFileName"/>            
            </for>
            
            <!-- spec usage -->
            <for xpath="//idSpecUse">
              <exists xpath="specUsage[. != '']" ref="specUsage"/>  
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//idSpecUse/usrCntInfo">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//idSpecUse/usrCntInfo/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.Services,EPAMetadataEditor">
          <validation>          
            
            <!-- service validation -->            
            <for xpath="/metadata[mdHrLv/ScopeCd/@value = '014']/dataIdInfo">          
              <exists xpath="svType/genericName[. != '']" ref="genericName"/>
              <exists xpath="svCouplType[CouplTypCd/@value != '']" ref="svCouplType"/>
            </for>
            <for xpath="//svCouplType[CouplTypCd/@value = '003']">
              <exists xpath="//svCouplRes[svOpName != '' and svResCitId/identCode != '']" ref="svCouplRes svOpName,svOpName svResCitId,svResCitId/identCode"/> 
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.ResourceExtent,EPAMetadataEditor">
          <validation>

            <!-- either a bounding box or a geographic description (identifier) must be provided if the item's hierarchy level is "dataset" -->
            <for xpath="/metadata[mdHrLv/ScopeCd/@value = '005']">
              <or ref="dataExtReq">
                <exists xpath="//dataExt//GeoBndBox[*]"/>
                <exists xpath="//dataExt//GeoDesc/geoId/identCode[ . != '']"/>
              </or>
            </for>
            
            <for xpath="//dataExt//GeoBndBox[*]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>
            
            <!-- vertical max and min -->
            <for xpath="//dataExt//vertEle[*]">
              <exists xpath="vertMinVal[. != '']" ref="vertMinVal"/>
              <exists xpath="vertMaxVal[. != '']" ref="vertMaxVal"/>
            </for>
            <for xpath="//dataExt//vertEle[* != '']">
              <exists xpath="self::*[vertMinVal &lt; vertMaxVal]" ref="vertMinMaxVal vertMinVal,vertMinVal vertMaxVal,vertMaxVal"/>
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//dataExt//GeoDesc//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//dataExt//GeoDesc//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- citation -->
            <for xpath="//dataExt//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//dataExt//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>            
            </for>
            <for xpath="//dataExt//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
          
          </validation>   
        </page>
        <page class="EPAMetadataEditor.Pages.ResourcePoc,EPAMetadataEditor">
          <validation>
          
            <!-- contact name, org or role -->
            <for xpath="//dataIdInfo/idPoC">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//dataIdInfo/idPoC/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.ResourceMaintenance,EPAMetadataEditor">
          <validation>
          
            <for xpath="//resMaint">
            
              <!-- maintentance frequency -->
              <for xpath="maintFreq">
                <exists xpath="MaintFreqCd[@value != '']" ref="maintFreq"/>  
              </for>            
              
              <!-- maintenance scope -->
              <for xpath="maintScp">
                <exists xpath="ScopeCd[@value != '']" ref="scopeCd"/>  
              </for>
            </for>
           
            <!-- contact name, org or role -->
            <for xpath="//resMaint/maintCont">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//resMaint/maintCont/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.ResourceConstraints,EPAMetadataEditor">
           <validation>          
            <!-- classification code -->
            <for xpath="//resConst/SecConsts">
              <exists xpath="class/ClasscationCd[@value != '']" ref="ClasscationCd"/>  
            </for>
            <!-- if the 'other contraints' code is used, then the other contraints tag is required -->
            <for xpath="//resConst/LegConsts[*/RestrictCd/@value = '008']">
              <exists xpath="othConsts[. != '']" ref="othConsts"/>  
            </for>
            <!-- use constraint is required in the general class -->
            <for xpath="//resConst/Consts">
              <exists xpath="useLimit[. != '']" ref="useLimit"/>  
            </for>
          </validation>          
        </page>
        <page class="EPAMetadataEditor.Pages.ReferenceSystem,EPAMetadataEditor">
          <validation>
            <!-- reference system ID -->
            <for xpath="//RefSystem">
              <exists xpath="refSysID//identCode[@code != '']" ref="refSysID"/>  
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//identAuth//citRespParty">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//identAuth//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- citation -->
            <for xpath="//refSysInfo//identAuth[*]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>            
            </for>
            <for xpath="//refSysInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            <for xpath="//refSysInfo//identAuth/citId">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.SpatialRepresentation,EPAMetadataEditor">
          <validation>

            <!-- dimension type -->
            <for xpath="//axisDimension">
              <exists xpath=".[@type != '']" ref="DimType"/>
              <exists xpath="dimSize[. != '']" ref="dimSize"/>              
            </for>
            
            <for xpath="//dimResol[value != '']">
              <exists xpath="value[@uom != '']" ref="ValueUoMUnits"/>
            </for>
            
            <!-- point in pixel -->   
            <for xpath="//Georect[ptInPixel]">
              <exists xpath="ptInPixel/PixOrientCd[@value != '']" ref="ptInPixel"/>
            </for>
            
            <!-- cell geometry -->
            <for xpath="//cellGeo">
              <exists xpath="CellGeoCd[@value != '']" ref="cellGeo"/>
            </for>
            
            <!-- feature count -->
            <for xpath="//geometObjs">
              <exists xpath="geoObjCnt[. != '']" ref="geoObjCnt"/>
            </for>
            
            <!-- geometric object type -->
            <for xpath="//geoObjTyp[GeoObjTypCd]">
              <exists xpath="GeoObjTypCd[@value != '']" ref="GeoObjTypCd"/>            
            </for>
         
            <!-- number of dimensions -->
            <for xpath="//GridSpatRep">
              <exists xpath="numDims[. != '']" ref="numDims"/>            
            </for>
            
            <!-- number of dimensions -->
            <for xpath="//Georect">
              <exists xpath="numDims[. != '']" ref="numDims"/>            
            </for>
            
            <!-- check point availablity -->
            <for xpath="//Georect[chkPtAv = 'True']">
              <exists xpath="chkPtDesc[. != '']" ref="chkPtDesc"/>            
            </for>
    
            <!-- parameters -->
            <for xpath="//Georef">
              <exists xpath="georefPars[. != '']" ref="georefPars"/>            
            </for>

            <!-- number of dimensions -->
            <for xpath="//Georef">
              <exists xpath="numDims[. != '']" ref="numDims"/>            
            </for>

            <!-- citation -->               
            <for xpath="//spatRepInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//spatRepInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date/*[. != '']" ref="dates"/>              
            </for> 
            
            <!-- contact name, org or role -->
            <for xpath="//spatRepInfo//paraCit//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//spatRepInfo//paraCit//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
 
          </validation>        
        </page>        
        <page class="EPAMetadataEditor.Pages.ContentInformation,EPAMetadataEditor">
          <validation>
          
            <!--  included With dataset is mandatory -->
            <for xpath="//FetCatDesc[incWithDS]">
              <exists xpath="incWithDS[. != '']" ref="incWithDS"/>            
            </for>
                    
            <!-- attribute description -->
            <for xpath="//ImgDesc">
              <exists xpath="attDesc[. != '']" ref="attDesc"/>            
            </for>
 
            <!-- coverage description -->
            <for xpath="//CovDesc">
              <exists xpath="attDesc[. != '']" ref="attDesc"/>            
            </for>
            
            <!-- range dimension -->
            <for xpath="//CovDesc//RangeDim">
              <exists xpath="seqID[aName != '' and attributeType/aName != '']" ref="seqID aName,aName attributeType,attributeType/aName"/>
            </for>
           
            <!-- content type code -->
            <for xpath="//contentTyp">
              <exists xpath="ContentTypCd[@value != '']" ref="ContentTypCd"/>
            </for>          
          
            <!-- band -->
            <for xpath="//Band[minVal != '' or maxVal != '']">              
              <exists xpath="self::*[minVal &lt; maxVal]" ref="Band,.,bandMinMax minVal,minVal maxVal,maxVal"/>
              <exists xpath="valUnit/UOM/unitSymbol[. != '']" ref="uom"/>                   
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//catCitation//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//catCitation//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- contact name, org or role -->
            <for xpath="//ImgDesc//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//ImgDesc//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- citation / portrayal -->               
            <for xpath="//contInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//contInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <for xpath="//contInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.DataQuality,EPAMetadataEditor">
          <validation>

            <!-- data quality report type -->
            <for xpath="//dqInfo/report">
              <exists xpath=".[@type != '']" ref="ReportType"/>
            </for>
            
            <!-- scope level is required -->
            <for xpath="//dqInfo">
              <exists xpath="dqScope/scpLvl/ScopeCd[@value != '']" ref="scopeCd"/>
            </for>
            
            <!-- if scope does not equal "dataset" or "series", then a Level Description is required -->
            <for xpath="//dqInfo/dqScope[scpLvl/ScopeCd/@value != '005' and scpLvl/ScopeCd/@value != '006' and scpLvl/ScopeCd/@value != '']">
              <exists xpath="scpLvlDesc[.//* != '']" ref="scpLvlDesc"/>
            </for>
            
            <!-- either lineage information or a data quality report must be provided for datasets -->
            <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005']">
              <or ref="datasetReq">                
                <exists xpath="dataLineage[.//* !='']"/>
                <exists xpath="report[.//*  !='']"/>
                <exists xpath="report[descendant-or-self::*/@code !='' or descendant-or-self::*/@value !='' or descendant-or-self::*/@type !='']"/>           
              </or>
            </for>

            <!-- within the report section, either a conformance result or a quantitative result must be provided -->
            <for xpath="//dqInfo/report">
              <or ref="reportReq">
                <exists xpath="measResult/ConResult//*[ . != '']"/>
                <exists xpath="measResult/QuanResult//*[ . != '']"/>
              </or>  
            </for>
 
            <!-- within the conformance result section, all of its elements are mandatory -->
            <for xpath="//dqInfo/report/measResult/ConResult">
              <exists xpath="conExpl[ . != '']" ref="conExpl"/>
              <exists xpath="conSpec[ descendant::* != '']" ref="conSpec"/>
              <exists xpath="conPass[ . != '']" ref="conPass"/>
            </for>
            
            <!-- within the Quantitative Result section, a value and a unit of measure are required. -->
            <for xpath="//dqInfo/report/measResult/QuanResult">
              <exists xpath="quanValUnit/UOM/unitSymbol[ .!= '']" ref="uom"/>
            </for>            
            <for xpath="//dqInfo/report/measResult/QuanResult/quanVal">
              <exists xpath="self::*[ . != '']" ref="quanVal"/>
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//report//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
                        
            <!-- linkage -->
            <for xpath="//report//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- citation -->
            <for xpath="//dqInfo/report//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>             
            </for>
            <for xpath="//dqInfo/report//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            <for xpath="//dqInfo/scpExt//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>             
            </for>
            <for xpath="//dqInfo/scpExt//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            
            <!-- identifier -->
            <for xpath="//dqInfo/report//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//dqInfo/scpExt//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            
            <!-- bounding box -->
            <for xpath="//scpExt//GeoBndBox[*]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>
            
            <!-- vertical max and min -->
            <for xpath="//scpExt//vertEle[*]">
              <exists xpath="vertMinVal[. != '']" ref="vertMinVal"/>
              <exists xpath="vertMaxVal[. != '']" ref="vertMaxVal"/>
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//scpExt//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//scpExt//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
          </validation>
         </page>
        <page class="EPAMetadataEditor.Pages.LI_Lineage,EPAMetadataEditor">
          <validation>
          
            <!-- if scope = "dataset" or "series", one of process step, data source, or lineage statement is required -->   
            <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005' or dqScope/scpLvl/ScopeCd/@value = '006']">
              <exists xpath=".//*[ . != '']" ref="dqInfo"/>
            </for>            
            <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005' or dqScope/scpLvl/ScopeCd/@value = '006']">
              <for xpath="dataLineage">
                <or ref="dataLineage">
                  <exists xpath="statement[. != '']"/>
                  <exists xpath="dataSource/*[. != '']"/>
                  <exists xpath="prcStep/*[. != '']"/>
                </or>
              </for>
            </for>
            
            <!-- either lineage information or a data quality report must be provided for datasets -->
            <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005']">
              <or ref="datasetReq">                
                <exists xpath="dataLineage[.//* !='']"/>
                <exists xpath="report[.//*  !='']"/>
                <exists xpath="report[descendant-or-self::*/@code !='' or descendant-or-self::*/@value !='' or descendant-or-self::*/@type !='']"/>           
              </or>
            </for>
            
            <!-- process step description -->            
            <for xpath="//prcStep">
              <exists xpath="stepDesc[. != '']" ref="stepDesc"/>          
            </for>
            
            <!-- Within data source, either an extent or a description must be provided -->
            <for xpath="//dqInfo/dataLineage/dataSource">
              <or ref="dataSource">
                <exists xpath="srcDesc[. != '']"/>
                <exists xpath="srcExt/*[. != '']"/>
              </or>
            </for>
          
            <!-- contact name, org or role -->
            <for xpath="//prcStep/stepProc">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//prcStep/stepProc/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- contact name, org or role -->
            <for xpath="//dataLineage//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//dataLineage//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>     

            <!-- bounding box -->
            <for xpath="//srcExt//GeoBndBox[*]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>
            
            <!-- vertical max and min -->
            <for xpath="//srcExt//vertEle[*]">
              <exists xpath="vertMinVal[. != '']" ref="vertMinVal"/>
              <exists xpath="vertMaxVal[. != '']" ref="vertMaxVal"/>
            </for>
            
            <!-- data source referense system -->
            <for xpath="//dataLineage//srcRefSys[identCode]">
              <exists xpath="identCode[@code != '']" ref="identCode"/>
            </for>
            
            <!-- citations -->
            <for xpath="//dataLineage//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>                 
            <for xpath="//dataLineage//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>

            <!-- identifiers -->
            <for xpath="//dataLineage//*[identCode and not(identCode/@code)]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            
          </validation>         
        </page>        
        <page class="EPAMetadataEditor.Pages.DistributionInfo,EPAMetadataEditor">        
           <validation>

            <!-- format name and version -->       
            <for xpath="//distFormat">
              <exists xpath="formatName[. != '']" ref="formatName"/>  
              <exists xpath="formatVer[. != '']" ref="formatVer"/>
            </for>            
            <for xpath="//distorFormat">
              <exists xpath="formatName[. != '']" ref="formatName"/>
              <exists xpath="formatVer[. != '']" ref="formatVer"/>
            </for>
            
            <!-- if a density value is provided, the density units is mandatory -->
            <for xpath="//offLineMed[medDensity != '']">
              <exists xpath="medDenUnits[. != '']" ref="medDenUnits"/>
            </for>
         
            <!-- contact name, org or role -->
            <for xpath="//distributor/distorCont">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
			
            <!-- linkage -->
            <for xpath="//distributor/distorCont/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//distInfo//onLineSrc">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
          </validation>          
        </page>		
        <page class="EPAMetadataEditor.Pages.EntityAttributeInfo,EPAMetadataEditor">
          <validation>

            <!-- codeset domains -->
            <for xpath="//codesetd">
              <exists xpath="codesetn[. != '']" ref="codesetn"/>  
              <exists xpath="codesets[. != '']" ref="codesets"/>  
            </for>
                     
            <!-- enumerated domains -->
            <for xpath="//edom">
              <exists xpath="edomv[. != '']" ref="edomv"/>           
              <exists xpath="edomvd[. != '']" ref="edomvd"/>           
              <exists xpath="edomvds[. != '']" ref="edomvds"/>      
            </for>
           
            <!-- range domains -->
            <for xpath="//rdom">
              <exists xpath="rdommin[. != '']" ref="rdommin"/>           
              <exists xpath="rdommax[. != '']" ref="rdommax"/>              
              <exists xpath=".[rdommin &lt; rdommax]" ref="rdommin,rdommin,rdommin_range"/>              
            </for>
            
            <!-- entity type -->
            <for xpath="//enttyp">
              <exists xpath="enttypd[. != '']" ref="enttypd"/>
              <exists xpath="enttypds[. != '']" ref="enttypds"/>              
              <!-- entity type label -->
              <exists xpath="enttypl[. != '']" ref="enttypl"/>
            </for>
            
            <!-- attribute label -->
            <for xpath="//attr">
              <exists xpath="attrlabl[. != '']" ref="attrlabl"/>

              <!-- attribute definition -->
              <exists xpath="attrdef[. != '']" ref="attrdef"/>
              
              <!-- attribute source -->
              <exists xpath="attrdefs[. != '']" ref="attrdefs"/>

              <!-- TODO: not working / attribute type -->
              <exists xpath="attrtype[. != '']" ref="attrtype"/>

              <!-- TODO: not working / attribute width -->
              <exists xpath="attwidth[. != '']" ref="attwidth"/>
            </for>

            <for xpath="/metadata/eainfo/detailed/attr">
              <exists xpath="attrdomv[count(edom | rdom | codesetd | udom) = 1]" ref="attrdomv"/>
            </for>
          </validation>
         </page>
        <page class="EPAMetadataEditor.Pages.References,EPAMetadataEditor">
          <validation>
        
            <!-- contact name, org or role -->
            <for xpath="//aggrInfo//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>

            <!-- linkage -->
            <for xpath="//aggrInfo//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>  

            <!-- contact name, org or role -->
            <for xpath="//porCatInfo//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>

            <!-- linkage -->
            <for xpath="//porCatInfo//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- contact name, org or role -->
            <for xpath="//appSchInfo//citRespParty">            
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            
            <!-- linkage -->
            <for xpath="//appSchInfo//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            
            <!-- citation / portrayal -->               
            <for xpath="//porCatInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//porCatInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>             
            </for>       
            <for xpath="//porCatInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            
            <!-- citation / aggregate info -->           
            <for xpath="//aggrInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//aggrInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>            
            </for>
            <for xpath="//aggrInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            
            <!-- citation / application schema info -->            
            <for xpath="//appSchInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//appSchInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>           
            </for>
            <for xpath="//appSchInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>  
            </for>
            
            <!-- association type required under aggregate information -->
            <for xpath="//aggrInfo/assocType">
              <exists xpath="AscTypeCd[@value != '']" ref="AscTypeCd"/>
            </for>
            
            <!-- either a citation or an identifier for the aggregate resource must be provided -->
            <for xpath="//aggrInfo">
              <or ref="aggrInfo">
                <exists xpath="aggrDSIdent/identCode[.!='']"/>
                <exists xpath="aggrDSName//*[.!='']"/>
              </or>
            </for>
            
          </validation>
        </page>
        <page class="EPAMetadataEditor.Pages.GeoprocessingHistory,EPAMetadataEditor"></page>
      </section>			
    </forms>
  </editor>
</metadataConfig>
